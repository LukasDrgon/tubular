(function(n){"use strict";function t(t,i){function r(n,t){var r=n.Columns.filter(function(n){return n.SortOrder>0}).map(function(n){return(n.SortDirection==="Descending"?"-":"")+n.Name});for(var u in r)r.hasOwnProperty(u)&&(t=i(t,r[u]));return t}function u(i,r){if(i.Search&&i.Search.Operator==="Auto"&&i.Search.Text){var u=i.Columns.filter(function(n){return n.Searchable}).map(function(n){var t={};return t[n.Name]=i.Search.Text,t});if(u.length>0)return t(r,function(t){var r=s(u),i=!1;return n.forEach(r,function(n,r){t[r]&&t[r].toLocaleLowerCase().indexOf(n)>=0&&(i=!0)}),i})}return r}function f(n,i){var r=n.Columns.filter(function(n){return n.Filter&&n.Filter.Text}).map(function(n){var t={};return n.Filter.Operator==="Contains"&&(t[n.Name]=n.Filter.Text),t});return r.length>0?t(i,s(r)):i}function e(n,t){var i=o(),r,u;i.FilteredRecordCount=t.length;i.TotalRecordCount=t.length;i.Payload=t.slice(n.Skip,n.Take+n.Skip);i.TotalPages=(i.FilteredRecordCount+n.Take-1)/n.Take;i.TotalPages>0&&(r=Math.pow(10,0),u=1+n.Skip/i.FilteredRecordCount*i.TotalPages,i.CurrentPage=(u*r|0)/r,i.CurrentPage<1&&(i.CurrentPage=1))}function o(){return{Counter:0,CurrentPage:1,FilteredRecordCount:0,TotalRecordCount:0,Payload:[],TotalPages:0}}function s(n){var r={},t,i;for(t in n)if(n.hasOwnProperty(t))for(i in n[t])n[t].hasOwnProperty(i)&&(r[i]=n[t][i].toLocaleLowerCase());return r}return{sort:r,filter:f,search:u,format:e}}n.module("tubular.services").factory("tubularLocalDataPager",t);t.$inject=["filterFilter","orderByFilter"]})(angular),function(n){"use strict";function t(n,t){n.registerService("local",t)}function i(t,i,r,u){function f(n){return n.requireAuthentication=!1,{promise:o(n),cancel:e}}function e(n){return r.error(n),i.defer().resolve(n)}function o(n){return i.resolve(s(n)).then(function(t){return l(n,t)})}function s(n){return c(n)||h(n)}function h(n){return t.retrieveDataAsync(n).promise}function c(t){if(t.serverUrl.indexOf("data:")!==0)return null;var r=t.serverUrl.substr(29);return r=atob(r),i.resolve(n.fromJson(r))}function l(n,t){return u.page(n,t)}return{getByKey:t.getByKey,get:t.get,retrieveDataAsync:f}}n.module("tubular.services").factory("tubularLocalData",i).run(t);t.$inject=["tubularHttp","tubularLocalData"];i.$inject=["tubularHttp","$q","$log","tubularLocalDataPager"]}(angular);