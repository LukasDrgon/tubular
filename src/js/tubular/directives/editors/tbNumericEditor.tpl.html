<div ng-class="{ 'form-group' : $ctrl.showLabel && $ctrl.isEditing, 'has-error' : !$ctrl.$valid && $ctrl.$dirty() }">
    <span ng-hide="$ctrl.isEditing">{{$ctrl.value | numberorcurrency: format }}</span>
    <label ng-show="$ctrl.showLabel" ng-bind="$ctrl.label"></label>
    <div class="input-group" ng-show="$ctrl.isEditing">
        <div class="input-group-addon" ng-hide="$ctrl.format == 'I'">
            <i ng-class="{ 'fa': true, 'fa-calculator': $ctrl.format != 'C', 'fa-usd': $ctrl.format == 'C'}"></i>
        </div>
        <input type="number" placeholder="{{$ctrl.placeholder}}" ng-model="$ctrl.value" class="form-control"
               ng-required="$ctrl.required" ng-hide="$ctrl.readOnly" step="{{$ctrl.step || 'any'}}" name="{{$ctrl.name}}" />
        <p class="form-control form-control-static text-right" ng-show="$ctrl.readOnly">{{$ctrl.value | numberorcurrency: format}}</p>
    </div>
    <span class="help-block error-block" ng-show="$ctrl.isEditing" ng-repeat="error in $ctrl.state.$errors">{{error}}</span>
    <span class="help-block" ng-show="$ctrl.isEditing && $ctrl.help" ng-bind="$ctrl.help"></span>
</div>
